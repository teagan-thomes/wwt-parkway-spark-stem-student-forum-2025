<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Interactive Keyboard Shortcuts Quiz</title>
  <link rel="stylesheet" type="text/css" href="styles/stylesheet.css">
</head>
<body>
  <div class="card">
    <h1>Interactive Keyboard Shortcuts Quiz</h1>
    <form id="quiz-form">
      <!-- Question 1: Copy and Paste Interaction -->
      <div class="question">
        <p class="question-title">
          1. Copy the following text and paste it into the box below using keyboard shortcuts only.
        </p>
        <p>
          <textarea id="q1-source" rows="5" readonly>
“Efficiency is doing things right; effectiveness is doing the right things.” – Peter Drucker

Mastering keyboard shortcuts is a step towards both efficiency and effectiveness in your daily tasks.
          </textarea>
        </p>
        <p>
          <textarea id="q1-destination" rows="5" placeholder="Paste here"></textarea>
        </p>
      </div>

      <!-- Question 2: Find Functionality -->
      <div class="question">
        <p class="question-title">
          2. Use the keyboard shortcut to find and highlight all occurrences of the word "efficiency" in the passage below.
        </p>
        <p id="q2-passage">
          Efficiency is a crucial component in achieving success. By focusing on efficiency, you can accomplish more with less effort. Implementing efficient methods in your workflow allows for better time management and productivity.
        </p>
      </div>

      <!-- Question 3: Undo and Redo Actions -->
      <div class="question">
        <p class="question-title">
          3. Edit the paragraph below: delete the text, then use the undo shortcut to restore it, and finally use the redo shortcut to remove it again.
        </p>
        <p contenteditable="true" id="q3-paragraph">
          This paragraph contains important information that you might need later. Please delete it using your keyboard, undo the deletion, and then redo it using the appropriate keyboard shortcuts.
        </p>
      </div>

      <!-- Question 4: Scenario-Based with Interaction -->
      <div class="question">
        <p class="question-title">
          4. You want to save your document quickly without using the mouse. Press the keyboard shortcut now to perform the 'Save' action.
        </p>
        <input type="text" id="q4-input" placeholder="Focus here and press the shortcut" readonly onfocus="this.blur()">
      </div>

      <!-- Submit Button -->
      <button type="button" onclick="submitQuiz()">Submit Answers</button>
    </form>

    <!-- Result Display -->
    <div id="quiz-result"></div>
  </div>

  <script>
    // Variables to store quiz answers
    let quizAnswers = {
      q1: '',
      q2: false,
      q3Undo: false,
      q3Redo: false,
      q4: false
    };

    // Question 1: Monitor Paste Event
    document.getElementById('q1-destination').addEventListener('paste', function() {
      setTimeout(() => {
        quizAnswers.q1 = this.value;
      }, 100);
    });

    // Question 2: Monitor Find Shortcut (Ctrl+F)
    document.addEventListener('keydown', function(e) {
      if (e.ctrlKey && (e.key === 'f' || e.key === 'F')) {
        e.preventDefault();
        let passageElement = document.getElementById('q2-passage');
        let passageText = passageElement.innerText;
        let highlightedText = passageText.replace(/(efficiency)/gi, function(match) {
          return '<mark>' + match + '</mark>';
        });
        passageElement.innerHTML = highlightedText;
        quizAnswers.q2 = true;
      }
    });

    // Question 3: Undo and Redo Actions
    let q3Paragraph = document.getElementById('q3-paragraph');
    let q3OriginalContent = q3Paragraph.innerHTML;
    let q3History = [q3OriginalContent];

    q3Paragraph.addEventListener('input', function() {
      q3History.push(q3Paragraph.innerHTML);
    });

    document.addEventListener('keydown', function(e) {
      // Undo action
      if (e.ctrlKey && (e.key === 'z' || e.key === 'Z')) {
        e.preventDefault();
        if (q3History.length > 1) {
          q3History.pop();
          q3Paragraph.innerHTML = q3History[q3History.length - 1];
          quizAnswers.q3Undo = true;
        }
      }
      // Redo action
      else if (e.ctrlKey && (e.key === 'y' || e.key === 'Y')) {
        e.preventDefault();
        // For simplicity, assume redo restores the deleted content
        q3Paragraph.innerHTML = '';
        quizAnswers.q3Redo = true;
      }
    });

    // Question 4: Monitor Save Shortcut (Ctrl+S)
    document.addEventListener('keydown', function(e) {
      if (e.ctrlKey && (e.key === 's' || e.key === 'S')) {
        e.preventDefault();
        quizAnswers.q4 = true;
        alert('Document saved successfully!');
      }
    });

    // Function to Submit Quiz
    function submitQuiz() {
      let score = 0;
      let explanations = '';

      // Question 1: Check if text was pasted correctly
      let originalText = document.getElementById('q1-source').value.trim();
      if (quizAnswers.q1.trim() === originalText) {
        score += 1;
        explanations += '<p><strong>Question 1:</strong> Correct! You used Ctrl+C and Ctrl+V to copy and paste the extended text.</p>';
      } else {
        explanations += '<p><strong>Question 1:</strong> Incorrect. Ensure you copied and pasted the entire text using Ctrl+C and Ctrl+V.</p>';
      }

      // Question 2: Check if the word was highlighted
      if (quizAnswers.q2) {
        score += 1;
        explanations += '<p><strong>Question 2:</strong> Correct! You used Ctrl+F to find and highlight all occurrences of "efficiency".</p>';
      } else {
        explanations += '<p><strong>Question 2:</strong> Incorrect. You needed to press Ctrl+F and search for "efficiency".</p>';
      }

      // Question 3: Check if undo and redo actions were performed
      if (quizAnswers.q3Undo && quizAnswers.q3Redo) {
        score += 1;
        explanations += '<p><strong>Question 3:</strong> Correct! You deleted the paragraph, used Ctrl+Z to undo the deletion, and then used Ctrl+Y to redo it.</p>';
      } else {
        explanations += '<p><strong>Question 3:</strong> Incorrect. You needed to delete the paragraph, undo the deletion with Ctrl+Z, and then redo it with Ctrl+Y.</p>';
      }

      // Question 4: Check if Save shortcut was used
      if (quizAnswers.q4) {
        score += 1;
        explanations += '<p><strong>Question 4:</strong> Correct! You used Ctrl+S to save the document.</p>';
      } else {
        explanations += '<p><strong>Question 4:</strong> Incorrect. You needed to press Ctrl+S to save the document.</p>';
      }

      // Display the result and explanations
      let resultElement = document.getElementById('quiz-result');
      resultElement.style.display = 'block';
      resultElement.innerHTML = 'You scored ' + score + ' out of 4!';
      resultElement.innerHTML += '<div class="explanation">' + explanations + '</div>';

      // Reset the quiz after submission
      document.getElementById('quiz-form').reset();
      quizAnswers = {
        q1: '',
        q2: false,
        q3Undo: false,
        q3Redo: false,
        q4: false
      };
      // Reset contenteditable paragraph and passage
      q3Paragraph.innerHTML = q3OriginalContent;
      document.getElementById('q2-passage').innerHTML = `
        Efficiency is a crucial component in achieving success. By focusing on efficiency, you can accomplish more with less effort. Implementing efficient methods in your workflow allows for better time management and productivity.
      `;
    }
  </script>
</body>
</html>
